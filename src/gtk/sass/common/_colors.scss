//
// Import resources
//

// Import key color-scheme defined at build-time.
@import 'resources/key_colors';

//
// Foreground colors
//

$foreground: if($variant == dark, 
  color($grey, 100),
  mix(color($grey, 900), black));
$foreground_secondary: track($foreground, $alpha_foreground_2nd);
$foreground_tertiary: track($foreground, $alpha_foreground_3rd);

$foreground_selection: white;
$foreground_selection_secondary: track($foreground_selection, $alpha_foreground_selection_secondary);
$foreground_selection_tertiary: track($foreground_selection, $alpha_foreground_selection_tertiary);

$foreground_dis: track($foreground, $alpha_foreground_dis);
$foreground_dis_secondary: track($foreground_secondary, $alpha_foreground_dis);
$foreground_dis_tertiary: track($foreground_tertiary, $alpha_foreground_dis);

$foreground_dis_selection: track($foreground_selection, $alpha_foreground_bdp);
$foreground_dis_selection_secondary: track($foreground_selection_secondary, $alpha_foreground_bdp);
$foreground_dis_selection_tertiary: track($foreground_selection_tertiary, $alpha_foreground_bdp);

// placeholder text in GtkEntry
$foreground_placeholder: if($variant == light, color($grey, $primary_level),
                               color($grey, $primary_level + 200));

//
// Inverted foreground colors
//

$foreground_inv: color($grey, 100);
$foreground_inv_secondary: track($foreground_inv, $alpha_foreground_2nd);
$foreground_inv_tertiary: track($foreground_inv, $alpha_foreground_3rd);

$foreground_dis_inv: track($foreground_inv, $alpha_foreground_dis);
$foreground_dis_inv_secondary: track($foreground_inv_secondary, $alpha_foreground_dis);
// for SSD titlebars
$foreground_unf_title: if($variant == light,
  track($foreground, $alpha_foreground_bdp),
  track($foreground_inv, $alpha_foreground_bdp));

$foreground_fix: color($grey, 900);
$foreground_fix_secondary: track($foreground_fix, $alpha_foreground_2nd);
$foreground_fix_tertiary: track($foreground_fix, $alpha_foreground_3rd);
$foreground_fix_dis: track($foreground_fix, $alpha_foreground_dis);

//
// Background colors
//

$background: if($variant == dark,
  mix(color($grey, 900), black, percentage($alpha_foreground_2nd)),
  mix(color($grey, 50), color($grey, 100)));
$base: if($variant == dark,
  mix(color($grey, 900), black),
  white);
$background_dark: if($variant == dark,
  mix(color($grey, 900), black, percentage($alpha_track_2)),
  mix(color($grey, 200), color($grey, 300)));

//
// Dark background colors on light variant
//

$background_inv: mix(color($grey, 900), black, percentage($alpha_foreground_2nd));
$base_inv: mix(color($grey, 900), black);
$background_dark_inv: mix(color($grey, 900), black, percentage($alpha_track_2));

//
// Light background colors on dark variant
//

$base_fix: white;

//
// Selection (primary) colors
//

// Default: #3f51b5 (Indigo500)
$background_selection: $key_selection_color;
// $background_selection: color($indigo, $primary_level);
$label_selection: if($variant == dark,
  saturate(
    lighten($background_selection, percentage($alpha_track_2)),
    percentage($alpha_track_2)),
  $background_selection);
$label_selection_inv: saturate(
  lighten($background_selection, percentage($alpha_track_2)),
  percentage($alpha_track_2));

//
// Accent (secondary) colors
//

// Default: #7986cb (Indigo300)
$background_accent: $key_accent_color;
//$background_accent: color($indigo, $secondary_level);
$foreground_accent: if($variant == dark,
  saturate(
    lighten($background_accent, percentage($alpha_track_1)),
    percentage($alpha_track_1)),
  saturate(
    darken($background_accent, percentage($alpha_track_2)),
    percentage($alpha_track_2)));
$foreground_accent_sec: track($foreground_accent, $alpha_foreground_selection_secondary);
$foreground_drop: $foreground_accent;
$background_drop: track($foreground_drop, $alpha_track_out);

$foreground_accent_inv: saturate(
  lighten($background_accent, percentage($alpha_track_1)),
  percentage($alpha_track_1));
$foreground_accent_sec_inv: track($foreground_accent_inv, $alpha_foreground_2nd);
$foreground_drp_inv: $foreground_accent_inv;

//
// Tracker colors
//

$background_tracker: track(currentColor, $alpha_track_1);
$background_tracker_out: track(currentColor, $alpha_track_out);

//
// Edge colors
//

$foreground_div: if($variant == dark,
  track(black, $alpha_div_0),
  track(black, $alpha_div_1));
$foreground_div_sld: if($variant == dark, 
  mix(black, $base, percentage($alpha_div_0)),
  mix(black, $background, percentage($alpha_div_1)));
$foreground_div_sld_dark: if($variant != light,
  black,
  mix(black, $background_dark, percentage($alpha_div_1)));
$foreground_div_top: if($variant == light,
  mix(white, $background_dark, percentage($alpha_div_1)),
  mix(white, $background_dark_inv, percentage($alpha_div_2)));
$foreground_div_pane: if($variant == dark,
  track(black, $alpha_div_1),
  track(black, $alpha_div_2));

//
// Misc colors
//

$link: color($blue, $primary_level);
$link_visited: color($purple, $primary_level);

$foreground_link: if($variant == dark,
  saturate(lighten($link, percentage($alpha_track_1)),
  percentage($alpha_track_1)),
  $link);
$foreground_link_visited: if($variant == dark,
  saturate(lighten($link_visited, percentage($alpha_track_2)),
  percentage($alpha_track_2)),
  $link_visited);

// Default: #673ab7 (DPurple500)
$background_suggestion: $key_suggestion_color;
// $background_suggestion: color($d_purple, $primary_level);

// Default: #f44336 (Red500)
$background_destruction: $key_destruction_color;
// $background_destruction: color($red, $primary_level);

$info: color($teal, $primary_level);
$warn: color($orange, $primary_level);
$err: color($red, $primary_level);

$background_success: color($green, $primary_level);
$background_info: color($teal, $secondary_level);
$background_question: color($yellow, $secondary_level);
$background_warning: color($orange, $secondary_level);
$background_error: $err;

//
// Tooltip background color
//

$background_tooltip: if($variant == dark, 
  color($grey, 800),
  color($grey, 400));
$background_tooltip_inv: color($grey, 800);

//
// Solid panel color
//

$background_panel: if($variant == light, color($grey, 300), black);
$foreground_panel_div: if($variant == light,
  track($foreground, $alpha_div_2),
  track($foreground_inv, $alpha_div_2));

//
// Selection-mode headerbar
//

$background_selection_dark: if($variant == light,
  mix($background_selection, $background_dark, percentage($alpha_foreground_bdp)),
  mix($background_selection, $background_dark_inv, percentage($alpha_foreground_bdp)));
$foreground_div_selection_top: mix(white, $background_selection_dark, percentage($alpha_div_2));
