// /**********************
//  * Workspaces To Dock *
//  **********************/

// global settings
#workspacestodock {
  &TriggerSpacer,
  &ContainerWrapper,
  &Container { background-color: $panel_trans_bg; }
}

// dock styling
#workspacestodockDock {
  padding: 0;

  @each $_dock,
        $_border,
        $_shadow,
        $_roundness in (top, bottom, "0 -1px 0", "2px 2px 0 0"),
                       (bottom, top, "0 1px 0", "0 0 2px 2px"),
                       (left, right, "-1px 0 0", "0 2px 2px 0"),
                       (right, left, "1px 0 0", "2px 0 0 2px") {

    &.#{$_dock} {
      .workspace-thumbnails {
        margin: 0; // unset default margins
        border-radius: #{$_roundness};
        background-color: $panel_trans_bg;
        box-shadow: none;

        .workspace-thumbnail-indicator {
          padding: 6px - 1px; // revert to symmetrical padding
          border-width: 0; // unset before adding indicators
          border-#{$_border}-width: 2px;
        }
      }
    }

    &.#{$_dock}.inside {
      .workspace-thumbnails {
        border-radius: 0;
        background-color: $panel_trans_bg;
        box-shadow: none;
      }

      .workspacestodock-shortcuts-panel {
        padding: 2px;
        spacing: 0;
        border-radius: 0;
        background-color: $panel_trans_bg;
        box-shadow: none;
      }
    }

    &.#{$_dock}.fullheight {
      .workspace-thumbnails,
      .workspacestodock-shortcuts-panel { border-radius: 0; }
    }

    &.#{$_dock} .workspacestodock-shortcuts-panel {
      padding: 2px;
      spacing: 0;
      border-radius: 0;
      box-shadow: inset #{$_shadow} $osd_out_fg;
    }
  }
}

.workspacestodock-shortcuts-panel {
  &-popupmenu {
    padding: 2px;
    spacing: 0;
  }

  &-favorites {
  }

  &-running {
  }

  &-places {
  }
}

// shortcuts panel button styling
#workspacestodockDock {
  .app-well-app { // set circle dock buttons on shortcuts panel
    .overview-icon { border-radius: $r; }
    &:hover .overview-icon {
      background-color: $osd_semi_fill_bg;
    }
    &:active .overview-icon,
    &:focus .overview-icon,
    &:checked .overview-icon { background-color: $sel_bg; }
  }

  .workspacestodock-shortcuts-panel > StButton { background-size: contain; }
}

.workspacestodock-shortcut-button {
  &-symbolic {
  }

  &-icon { padding: 6px; }

  &-symbolic-icon { padding: 8px; }
}

// shortcuts panel item styling
#workspacestodockDock .popup-separator-menu-item {
  margin: 2px;
}
.workspacestodock-shortcut-panel {
  &-separator { -margin-horizontal: 2px; }

  &-filler {
    height: 1px;
    padding: 0;
    -margin-horizontal: 2px;
    -gradient-height: 1px;
    -gradient-start: transparent;
    -gradient-end: transparent;
  }
}

// shortcuts panel button window count indicators styling
#workspacestodockDock {
  @each $_dock, $_indicator in (top, top),
                               (bottom, bottom),
                               (left, left),
                               (right, right) {
    &.#{$_dock} {
      .workspacestodock-shortcut-button-windowcount-image-1 {
        background-image: url('assets/one-#{$_indicator}.svg');
      }

      .workspacestodock-shortcut-button-windowcount-image-2 {
        background-image: url('assets/two-#{$_indicator}.svg');
      }

      .workspacestodock-shortcut-button-windowcount-image-3 {
        background-image: url('assets/three-#{$_indicator}.svg');
      }

      .workspacestodock-shortcut-button-windowcount-image-4 {
        background-image: url('assets/four-#{$_indicator}.svg');
      }
    }
  }
}

// workspace caption styling
.workspacestodock-workspace-caption {
  color: $osd_ter_fg;

  &-container {
    padding: 0;
    border-radius: $r_2;
    border: 1px solid $div_fg;
  }

  &-background {
    border-top: 1px solid $div_fg;
    border-radius: 0 0 $r_2 $r_2;
    background-color: $osd_bg;

    &-current { color: $osd_fg; }
  }
}

// taskbar caption styling
.workspacestodock-caption-windowapps {
  padding: 0;

  &-menu {
    -boxpointer-gap: 12px;

    .window-close {
      // shell version 3.6 or higher can override
      // gnome shell class 'window-close'
      height: 20px;
      width: 20px;
      background-size: 24px;
    }
  }

  &-menu-item {
    // fallback class for shell version 3.4 since it can't override
    // gnome shell class 'popup-menu-item'
    &:active {
    }
  }

  &-menu-icon {
  }

  &-menu-label { padding: 0 10px 0 10px; }

  &-button {
    padding: 0 4px;

    &-icon {
      padding: 2px 2px 0 2px;
      border: none;
      border-radius: 0;
      background-color: transparent;
      box-shadow: none;
    }

    &:hover > &-icon {
      background-color: $hidden_fill_bg;
      box-shadow: inset 0 -2px $osd_out_fg;
    }
    &-active > &-icon,
    &-active:hover > &-icon {
      background-color: $osd_semi_fill_bg;
      box-shadow: inset 0 -2px $sel_bg;
    }
  }
}

.workspacestodock-caption {
  &-number {
    height: 20px;
    min-width: 7px;
    padding: 0 7px;
    border-radius: $r;
    color: $osd_ter_fg;
    background-color: $osd_bg;
    font-weight: 700;
    font-size: 90%;
    text-align: center;
    box-shadow: $z-depth-1;

    &-current {
      color: $acc_bg;
      box-shadow: $z-depth-2;
    }
  }

  &-name {
    height: 20px;
    min-width: 7px;
    padding: 0 7px;
    border-radius: 2px;
    color: $osd_ter_fg;
    background-color: $osd_bg;
    font-weight: 700;
    font-size: 90%;
    text-align: center;
    box-shadow: $z-depth-1;

    &-current {
      color: $acc_bg;
      box-shadow: $z-depth-2;
    }
  }

  &-windowcount {
    min-width: 7px;
    padding: 0 7px;
    border: none;
    color: $osd_ter_fg;
    background-color: transparent;
    font-weight: 700;
    font-size: 90%;
    text-align: center;

    &-current { color: $osd_fg; }

    &-image {
      width: 20px;
      height: 16px;
    }
  }

  // caption spacer-filler
  &-spacer {
    width: 1px;
    border: 1px solid transparent;
  }
}

// The classes below are used in conjunction
// with the above 'workspacestodock-caption-windowcount-image'
// They provide background images that correspond
// with the window count
.workspacestodock-caption-windowcount {
  @each $_num, $_name in (1, one),
                         (2, two),
                         (3, three),
                         (4, four) {
    &-image-#{$_num} {
      background-image: url('assets/h-#{$_name}.svg');
    }
  }
}

